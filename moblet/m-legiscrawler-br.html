<m-moblet
init="init"
is-loading="isLoading"
inner-scroll="false"
no-content="noContent"
unavaliable="error"
>
	<script id="my-modal.html" type="text/ng-template">
  <m-modal modal-title="{{'new_message' | translate}}">
    <modal-left-buttons>
        <button class="button button-clear button-positive cancel close-modal-button" ng-click="closeModal()">
            <span translate="cancel" ng-if="$root.isIOS" ></span>
            <i class="icon ion-android-close"  ng-if="!$root.isIOS" ></i>
        </button>
    </modal-left-buttons>
    <modal-right-buttons>
        <button class="button button-clear button-positive  secondary submit" ng-click="submit()">
          <span translate="submit"></span>
        </button>
    </modal-right-buttons>
    <modal-content>
      <m-form name="uWall"
              submit="submit">
          <span class="name-label" ng-bind="userName"></span>
          <m-textarea placeholder="{{'placeholder_mensage' | translate}}" rows="4" model="comment.description" required></m-textarea>
					<input type="file" model="comment.image" accept="image/*;capture=camera">
      </m-form>
	</modal-content>

</m-modal>

</script>
  <m-content has-bouncing="false">
		<div
		ng-if="view === 'category' || view === 'legislation'"
		class="search-bar m-theme-bar-top"
		>
			<input
			ng-model="$parent.searchText"
			ng-model-options="{debounce: 500}"
			type="search"
			class="search-input"
			placeholder="Buscar Legislação"
			>
    </div>
    <!-- LIST -->
		<div
		ng-if="view === 'list'"
		direction="y"
		class="list"
		>
      <!-- ITEM -->
      <div
			ng-repeat="cat in categories | filter: $parent.searchText"
			ng-click="goToCategoryOrLegislation(cat)"
			class="item {{ listStyle }}"
			>
        <h1>
					{{ cat.category }}
				</h1>
	    </div>
		</div>

		<!-- CATEGORY -->
		<ion-scroll
		ng-if="view === 'category'"
		overflow-scroll="false"
		direction="y"
		class="list"
		ng-style="{'height':listHeight}"
		>
	      <!-- ITEM -->
	      <div
				ng-repeat="legislation in categoryList | filter: $parent.searchText"
				ng-click="goToLegislation(legislation)"
				class="item {{ listStyle }}"
				>
	        <h1>
						{{ legislation }}
					</h1>
	      </div>
		</ion-scroll>


		<!-- LEGISLATION -->
		<ion-scroll
		ng-if="view === 'legislation'"
		overflow-scroll="false"
		direction="y"
		class="legislation list"
		ng-style="{'height':listHeight}"
		>
	      <!-- ITEM -->
	      <div
				ng-repeat="article in legislation | filter: $parent.searchText"
				ng-click="goToArticle(legislationName, article.number)"
				class="item {{ listStyle }}"
				>
	        <h1
					translate="article"
					translate-values="{ number: article.number }"
					>
					</h1>
					<p>
						{{ article.article }}
					</p>
	      </div>
		</ion-scroll>
    <!-- Detail -->
    <div
		ng-if="view === 'article'"
		class="detail m-theme-null-background {{ articleStyle }}"
		>
      <div class="detail-container">
				<h1>
					{{ legislationName }}
				</h1>
				<h2
      	translate="article"
				translate-values="{ number: number }"
				>
				</h2>
        <div class="description">
        	{{ article }}
        </div>
      </div>
    </div>
  </m-content>
</m-moblet>
