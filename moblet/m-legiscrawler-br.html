<m-moblet
init="init"
is-loading="isLoading"
inner-scroll="false"
no-content="noContent"
unavaliable="error"
>
  <m-content>
    <!-- SEARCH BAR -->
    <div
    ng-if="!noData"
    class="search-bar m-theme-bar-top"
    ng-class="{'list-search-header': view === 'list' || view === 'search',
    'legislation-search-header': view === 'legislation'}"
    >
      <form
      ng-submit="search(query, iFrameUrl)"
      >
        <input
        ng-model="query.text"
        id="text"
        name="text"
        type="search"
        placeholder="Buscar conteÃºdo'"
        class="search-input"
        >
      </form>
      <div
      ng-if="view === 'legislation' && !noData"
      class="action-buttons"
      >
        <a
        ng-click="previousMark()"
        class="action-button"
        >
          <i class="icon ion-arrow-up-b"></i>
        </a>
        <a
        ng-click="nextMark()"
        class="action-button"
        >
          <i class="icon ion-arrow-down-b"></i>
        </a>
      </div>
    </div>
    <!-- END: SEARCH BAR -->

    <!-- LIST -->
    <div
    ng-if="view === 'list'  && !noData"
    direction="y"
    class="list m-theme-null-background"
    >
      <!-- ITEM -->
      <div
      ng-repeat="category in data"
      ng-click="goTo(category)"
      class="item {{ listStyle }} item item-icon-right"
      >
        <span ng-bind="category.name"></span>
        <i
        ng-if="category.type === 'LIST'  && !noData"
        class="list-icon icon ion-chevron-right">
        </i>
      </div>
    </div>
    <!-- END: LIST -->

    <!-- LEGISLATION -->
    <div
    ng-if="view === 'legislation'  && !noData"
    class="iframe-container"
    >
      <iframe
      ng-src="{{ iFrameUrl }}"
      data-tap-disabled="true"
      scrolling="yes"
      id="legislation"
      >
      </iframe>
      <ion-spinner></ion-spinner>
    </div>
    <!-- END: LEGISLATION -->

    <!-- SEARCH RESULT -->
    <div
    ng-if="view === 'search' && !noData"
    direction="y"
    class="list search m-theme-null-background"
    >
      <!-- ITEM -->
      <div
      ng-repeat="legislation in data"
      class="item {{ listStyle }} item item-icon-right"
      >
        <h2>{{ legislation.breadCrumb }}{{ legislation.name }}</h2>
        <p
          ng-click="scrollTo(legislation, key)"
          ng-repeat="(key, mark) in legislation.marks track by $index"
          data-ng-bind-html="mark"
          >
        </p>
      </div>
    </div>
    <div
    ng-if="noData"
    class="no-data m-theme-null-background"
    >
    <h4>Sem resultados</h4>
    <p>Por favor, tente novamente com outros termos</p>
    </div>
    <!-- END: SEARCH RESULT -->
  </m-content>
</m-moblet>
